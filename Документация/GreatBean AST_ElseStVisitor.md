### Оптимизация ветки else в if(false) в AST-дереве
Оптимизация AST-дерева. Оптимизация оператора if.

### Команда GreatBean

#### Постановка задачи
Требуется найти в AST-дереве if, в которых логическое условие ложно и произвести замену всего if на содержимое ветки else .

#### Зависимости задач в графе задач
Задача зависит от:
* генерация AST-дерева;
* заполнение связей типа "предок-потомок".

#### Теория
В исходном коде программы зачастую появляются случаи, когда условные операторы if не выполняют своего прямого назначения, и замедлют программу. Это встречается, когда в логическом условии находится переменная, значение которой известно еще на этапе компиляции. На этапе компиляции можно выявить такие неявные дефекты и произвести оптимизацию.


#### Особенности реализации
При использовании программного кода, позволяющего произвести оптимизацию условных операторов, логические условия которых равны false, требуется произвести построение AST-дерева для исходного кода программы, написанном на реализованном языке программирования, и выделить для построенного дерева связи типа "предок-потомок". К полученному дереву следует применить визитор SimpleLang.Visitors.ElseStVisitor. Таким образом, последовательность действий для использования данной оптимизации будет следующей:
1) сгенерировать AST-дерево;
2) с помощью визитора SimpleLang.Visitors.FillParentVisitor заполнить связи между узлами дерева типа "предок-потомок";
3) создать объект типа SimpleLang.Visitors.ElseStVisitor;
4) для полученного дерева вызвать функцию Visit с объектом ElseStVisitor, созданном на 3-ем этапе, поданным как аргумент функции.

Для решения этой задачи был реализован класс ElseStVisitor, который переопределяет процедуру VisitIfNode. Стоит отметить, что перед заменой всего условного оператора на ветку else необходимо обойти ее на предмет этой же оптимизации для покрытия всех возможных вхождений таких условных операторов.
```csharp
class ElseStVisitor : ChangeVisitor
    {
        public override void VisitIfNode(IfNode ifn)
        {
            if (ifn.Cond is BooleanNode boolVal && !boolVal.Val)
            {
                ifn.Else.Visit(this);
                ReplaceStat(ifn, ifn.Else);
            }
        }
    }
```


#### Тесты
Из исходной программы вида
```csharp
{
  int a;
	if (false)
  {
    if (true)
    {
      a = 1;
    }
    else
    {
      a = 2;
    }
  }
  else
  {
    if (false)
    {
      a = 3;
    }
    else
    {
      a = 4;
    }
  }
}

```

Мы получаем
```csharp
{
    var a;
    {
        {
            a = 4;
        }
    }
}

```
